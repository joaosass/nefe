!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var n,a,o,i,u,t={},r="querySelector"in document&&"addEventListener"in e,c={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutQuad",offset:40,updateURL:!0,callback:function(){}},l=function(){var e={},t=!1,r=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);for(var a=function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t&&"[object Object]"===Object.prototype.toString.call(r[n])?e[n]=l(!0,e[n],r[n]):e[n]=r[n])};n>r;r++){var o=arguments[r];a(o)}return e},f=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},s=function(e,t){var a,o,r=t.charAt(0),n="classList"in document.documentElement;for("["===r&&(t=t.substr(1,t.length-2),a=t.split("="),a.length>1&&(o=!0,a[1]=a[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===r)if(n){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===r&&e.id===t.substr(1))return e;if("["===r&&e.hasAttribute(a[0])){if(!o)return e;if(e.getAttribute(a[0])===a[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};t.escapeCharacters=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var a,t=String(e),r=t.length,n=-1,o="",i=t.charCodeAt(0);++n<r;){if(a=t.charCodeAt(n),0===a)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");o+=a>=1&&31>=a||127==a||0===n&&a>=48&&57>=a||1===n&&a>=48&&57>=a&&45===i?"\\"+a.toString(16)+" ":a>=128||45===a||95===a||a>=48&&57>=a||a>=65&&90>=a||a>=97&&122>=a?t.charAt(n):"\\"+t.charAt(n)}return"#"+o};var v=function(e,t){var r;return"easeInQuad"===e&&(r=t*t),"easeOutQuad"===e&&(r=t*(2-t)),"easeInOutQuad"===e&&(r=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(r=t*t*t),"easeOutCubic"===e&&(r=--t*t*t+1),"easeInOutCubic"===e&&(r=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(r=t*t*t*t),"easeOutQuart"===e&&(r=1- --t*t*t*t),"easeInOutQuart"===e&&(r=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(r=t*t*t*t*t),"easeOutQuint"===e&&(r=1+--t*t*t*t*t),"easeInOutQuint"===e&&(r=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),r||t},d=function(e,t,r){var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n=n-t-r,n>=0?n:0},h=function(){return Math.max(e.document.body.scrollHeight,e.document.documentElement.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.offsetHeight,e.document.body.clientHeight,e.document.documentElement.clientHeight)},m=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},p=function(t,r){e.history.pushState&&(r||"true"===r)&&"file:"!==e.location.protocol&&e.history.pushState(null,null,[e.location.protocol,"//",e.location.host,e.location.pathname,e.location.search,t].join(""))},g=function(e){return null===e?0:f(e)+e.offsetTop};t.animateScroll=function(t,r,a){var f=m(r?r.getAttribute("data-options"):null),s=l(n||c,a||{},f),b="[object Number]"===Object.prototype.toString.call(t)?!0:!1,y=b?null:"#"===t?e.document.documentElement:e.document.querySelector(t);if(b||y){var O=e.pageYOffset;o||(o=e.document.querySelector(s.selectorHeader)),i||(i=g(o));var j,L,S=b?t:d(y,i,parseInt(s.offset,10)),I=S-O,H=h(),E=0;b||p(t,s.updateURL);var w=function(n,a,o){var i=e.pageYOffset;(n==a||i==a||e.innerHeight+i>=H)&&(clearInterval(o),b||y.focus(),s.callback(t,r))},C=function(){E+=16,j=E/parseInt(s.speed,10),j=j>1?1:j,L=O+I*v(s.easing,j),e.scrollTo(0,Math.floor(L)),w(L,S,u)},Q=function(){clearInterval(u),u=setInterval(C,16)};0===e.pageYOffset&&e.scrollTo(0,0),Q()}};var b=function(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey){var r=s(e.target,n.selector);if(r&&"a"===r.tagName.toLowerCase()){e.preventDefault();var a=t.escapeCharacters(r.hash);t.animateScroll(a,r,n)}}},y=function(e){a||(a=setTimeout(function(){a=null,i=g(o)},66))};return t.destroy=function(){n&&(e.document.removeEventListener("click",b,!1),e.removeEventListener("resize",y,!1),n=null,a=null,o=null,i=null,u=null)},t.init=function(a){r&&(t.destroy(),n=l(c,a||{}),o=e.document.querySelector(n.selectorHeader),i=g(o),e.document.addEventListener("click",b,!1),o&&e.addEventListener("resize",y,!1))},t});